(function(){"use strict";var e={7429:function(e,t,a){var n=a(9242),o=a(891),r=a(3396);function l(e,t,a,n,o,l){const i=(0,r.up)("AdbForm");return(0,r.wg)(),(0,r.j4)(i)}var i=a(7139);const u={style:{display:"flex","align-items":"center"},id:"top_tool_div"};function s(e,t,a,o,l,s){const m=(0,r.up)("a-menu-item"),d=(0,r.up)("a-menu"),c=(0,r.up)("a-dropdown-button"),p=(0,r.up)("a-select"),f=(0,r.up)("a-input"),h=(0,r.up)("a-divider"),v=(0,r.up)("a-timeline-item"),g=(0,r.up)("a-timeline"),y=(0,r.up)("a-spin"),w=(0,r.up)("a-form-item"),b=(0,r.up)("a-button"),k=(0,r.up)("a-space"),C=(0,r.up)("a-form"),_=(0,r.up)("a-collapse-panel"),W=(0,r.up)("a-collapse");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",u,[(0,r.Wm)(c,{onClick:s.addItem,type:"dashed"},{overlay:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(m,{onClick:s.fillLocalIp},{default:(0,r.w5)((()=>[(0,r.Uk)(" 填充ip ")])),_:1},8,["onClick"]),(0,r.Wm)(m,{onClick:s.clearResultData},{default:(0,r.w5)((()=>[(0,r.Uk)(" 清空结果区 ")])),_:1},8,["onClick"])])),_:1})])),default:(0,r.w5)((()=>[(0,r.Uk)(" 增加一组 ")])),_:1},8,["onClick"]),(0,r.Wm)(p,{mode:"combobox",placeholder:"预置命令",options:this.commandOptions,value:this.selectCommand,"onUpdate:value":t[0]||(t[0]=e=>this.selectCommand=e),style:{width:"30%"},onSelect:s.onCommandSelect},null,8,["options","value","onSelect"]),(0,r.Wm)(f,{value:this.freeCommand,"onUpdate:value":t[1]||(t[1]=e=>this.freeCommand=e),laceholder:"自由命令"},null,8,["value"]),(0,r.Wm)(c,{onClick:s.execFreeCommand,type:"primary"},{overlay:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.items,((e,t)=>((0,r.wg)(),(0,r.j4)(m,{key:t,onClick:t=>s.execFreeCommandWithDevice(e.commandForm)},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,r.w5)((()=>[(0,r.Uk)(" 执行 ")])),_:1},8,["onClick"])]),(0,r.wy)((0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Uk)("结果展示区")])),_:1},512),[[n.F8,l.resultData.length>0]]),(0,r.wy)((0,r.Wm)(y,{spinning:l.spinning},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{style:{"max-height":"300px",overflow:"auto","padding-top":"5px"}},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.resultData,((e,t)=>((0,r.wg)(),(0,r.j4)(v,{key:t,color:e.color},{default:(0,r.w5)((()=>[(0,r._)("pre",null,(0,i.zw)(e.data),1)])),_:2},1032,["color"])))),128))])),_:1})])),_:1},8,["spinning"]),[[n.F8,l.resultData.length>0]]),(0,r.Wm)(W,{activeKey:l.activeKey,"onUpdate:activeKey":t[2]||(t[2]=e=>l.activeKey=e)},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.items,((e,t)=>((0,r.wg)(),(0,r.j4)(_,{key:t,header:e.title},{default:(0,r.w5)((()=>[(0,r.Wm)(C,{model:e.commandForm,name:"basic","label-col":{span:4},"wrapper-col":{span:16},autocomplete:"off"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{label:"客户端ip",name:"ip",rules:[{required:!0,message:"请输入客户端ip"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{value:e.commandForm.ip,"onUpdate:value":t=>e.commandForm.ip=t},null,8,["value","onUpdate:value"])])),_:2},1024),(0,r.Wm)(w,{label:"端口",name:"port",rules:[{required:!1,message:""}]},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{value:e.commandForm.port,"onUpdate:value":t=>e.commandForm.port=t},null,8,["value","onUpdate:value"])])),_:2},1024),(0,r.Wm)(w,{label:"包名",name:"packageName",rules:[{required:!1,message:""}]},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{value:e.commandForm.packageName,"onUpdate:value":t=>e.commandForm.packageName=t},null,8,["value","onUpdate:value"])])),_:2},1024),(0,r.Wm)(w,{label:"代理地址",name:"proxyAddr",rules:[{required:!1,message:""}]},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{value:e.commandForm.proxyAddr,"onUpdate:value":t=>e.commandForm.proxyAddr=t},null,8,["value","onUpdate:value"])])),_:2},1024),(0,r.Wm)(w,{"wrapper-col":{offset:4,span:16}},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{wrap:""},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{type:"primary","html-type":"submit",onClick:t=>s.sendHttpRequest(e.commandForm,"setProxy",e.title)},{default:(0,r.w5)((()=>[(0,r.Uk)("设置代理")])),_:2},1032,["onClick"]),(0,r.Wm)(b,{type:"primary","html-type":"submit",onClick:t=>s.sendHttpRequest(e.commandForm,"delProxy",e.title)},{default:(0,r.w5)((()=>[(0,r.Uk)("清除代理")])),_:2},1032,["onClick"]),(0,r.Wm)(b,{type:"primary",danger:"","html-type":"submit",onClick:t=>s.sendHttpRequest(e.commandForm,"stop",e.title)},{default:(0,r.w5)((()=>[(0,r.Uk)("终止进程")])),_:2},1032,["onClick"]),(0,r.Wm)(b,{type:"primary",danger:"","html-type":"submit",onClick:t=>s.sendHttpRequest(e.commandForm,"clear",e.title)},{default:(0,r.w5)((()=>[(0,r.Uk)("清理缓存")])),_:2},1032,["onClick"]),(0,r.Wm)(b,{type:"primary",danger:"",ghost:"",onClick:e=>s.distoryItem(t)},{default:(0,r.w5)((()=>[(0,r.Uk)("关闭分组")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["model"])])),_:2},1032,["header"])))),128))])),_:1},8,["activeKey"])],64)}a(541),a(7658);var m=a(252),d=a(4870),c=a(6066);function p(e,t,a={},n={}){return t&&(n.params=t),h(e,"get",a,n)}function f(e,t,a={},n={}){return t&&(n.data=t),h(e,"post",a,n)}function h(e,t,a,n){return n.url=e,n.method=t||"get",(0,c.Z)(n).then((t=>"string"===typeof t?Promise.reject({response:{statusText:`接口${e}未返回正确格式`}}):(a.successMsg&&m.ZP.success("string"===typeof a.successMsg?a.successMsg:"操作成功"),Promise.resolve(t)))).catch((e=>{let t=a.errorMsg||e.response&&e.response.data&&e.response.data.errMessage||e.response.statusText||"未知错误";return!1!==a.errorMsg&&m.ZP.error(t),Promise.reject(t)}))}c.Z.defaults.timeout=25e3;const v={ip:"",port:"5555"},g="";var y={data(){return{activeKey:(0,d.iH)(["0"]),items:[{title:"adb控制",inputValue:"",commandForm:Object.assign({},v)}],freeCommand:"",commandOptions:[{value:"devices",label:"devices"},{value:"disconnect",label:"disconnect"},{value:"shell pm list packages -3",label:"pm list packages -3"}],selectCommand:null,spinning:!1,resultData:[]}},methods:{onCommandSelect(e){this.freeCommand=e,this.selectCommand=null},sendHttpRequest(e,t,a){e.op=t,this.spinning=!0;var n=this.dealShowCommandInfo(e,a);f(g+"/adb",e).then((e=>{""==e.data.data?(m.ZP.info("执行成功！"),this.resultData.unshift({color:"green",data:n+"：执行成功！"})):this.resultData.unshift({color:"blue",data:n+"\n"+e.data.data}),this.resultData.length>50&&this.resultData.pop()})).catch((e=>{console.log(e),this.resultData.unshift({color:"red",data:n+"\n"+e})})).finally((()=>{this.spinning=!1}))},dealShowCommandInfo(e,t){var a=e.cmd;return"free"!=e.op&&(a=e.op),t&&(a+=`(${t})`),"命令 "+a},addItem(){if(this.items.length>=5)return void m.ZP.error("已达到最大数量！");const e=prompt("输入标题");e&&this.items.push({title:e,inputValue:"",commandForm:Object.assign({},v)})},distoryItem(e){this.items.length<=1?m.ZP.error("至少保留一个分组！"):this.items.splice(e,1)},execFreeCommand(){this.sendHttpRequest({cmd:this.freeCommand},"free")},execFreeCommandWithDevice(e){""!=e.ip?(e.cmd=`-s ${e.ip}:${e.port} ${this.freeCommand}`,this.sendHttpRequest(e,"free")):m.ZP.error("所选分组设备ip不可为空！")},fillLocalIp(){const e=prompt("输入端口号");p(g+"/ip").then((t=>{this.items.forEach((a=>{a.commandForm.proxyAddr=t.data.data+":"+e}))})).catch((e=>{console.log(e)}))},clearResultData(){this.resultData=[]}}},w=a(89);const b=(0,w.Z)(y,[["render",s],["__scopeId","data-v-0c61aa12"]]);var k=b,C={name:"App",components:{AdbForm:k}};const _=(0,w.Z)(C,[["render",l]]);var W=_;a(1849);(0,n.ri)(W).use(o.ZP).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,r){if(!n){var l=1/0;for(m=0;m<e.length;m++){n=e[m][0],o=e[m][1],r=e[m][2];for(var i=!0,u=0;u<n.length;u++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](n[u])}))?n.splice(u--,1):(i=!1,r<l&&(l=r));if(i){e.splice(m--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,l=n[0],i=n[1],u=n[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(u)var m=u(a)}for(t&&t(n);s<l.length;s++)r=l[s],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},n=self["webpackChunkadb_web"]=self["webpackChunkadb_web"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(7429)}));n=a.O(n)})();
//# sourceMappingURL=app.9ce283ee.js.map